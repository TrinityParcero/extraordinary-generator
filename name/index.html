<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="../styles/name.css">
    <link href="https://fonts.googleapis.com/css?family=Catamaran:300,500,900" rel="stylesheet">
    <title>Random Names</title>
    <link rel="icon" type="image/png" href="../images/elmore.jpg">
</head>
<body>
    <script src="name.js"></script>
    <script src="nameGen.js"></script>
    <div id="header">
        <h1>The Extraordinary</h1>
        <h1>Generator of Names</h1>
    <p id = "name">Based on Gary Gygax's Extraordinary Book of Names
    </p>
        <a href = "../index.html"><img src = "../images/home.png" alt = "home icon" height = "50px" width = "50px" id = "homeIcon"></a>
    </div>
    
    <div id="content">
    
    <div id="eth">  
    <!--ethnicity choice-->
    <p>names from where?</p>
        
        <!-- first two groups -->
        <div class = "twoGroup">
            
        <!--british group-->
        <fieldset id="british">
        <legend>British</legend>
        <button id="britishAll" class = "allButton">select all</button>
            <div class = "option">
            <input type="checkbox" id ="british1" name="eth" value="welsh">
            <label for="british1">Welsh</label>
            </div>
            
            <div class = "option">
            <input type="checkbox" id="british2" name="eth" value="cornish">
            <label for="british2">Cornish</label>
            </div>
             
            <div class = "option">
            <input type="checkbox" id="british3" name="eth" value="english">
            <label for="british3">English</label>
            </div>
             
            <div class = "option">
            <input type="checkbox" id="british4" name="eth" value="medieval">
            <label for="british4">Medieval</label>
            </div>
             
            <div class = "option">
            <input type="checkbox" id="british5" name="eth" value="gaelic">
            <label for="british5">Gaelic</label>
            </div>
            
        </fieldset>
            
        <!--mediterranean group-->
        <fieldset id="mediterranean">
        <legend>Mediterranean</legend>
        <button id="mediterraneanAll" class = "allButton">select all</button>
            
            <div class = "option">
            <input type="checkbox" id="mediterranean1" name="eth" value="greek">
            <label for="mediterranean1">Greek</label>
            </div>
            
            <div class = "option">
            <input type="checkbox" id="mediterranean2" name="eth" value="ancientGreek">
            <label for="mediterranean2">Ancient Greek</label>
            </div>
            
            <div class = "option">
            <input type="checkbox" id="mediterranean3" name="eth" value="arabic">
            <label for="mediterranean3">Arabic</label>
            </div>
             
            <div class = "option">
            <input type="checkbox" id="mediterranean4" name="eth" value="italian">
            <label for="mediterranean4">Italian</label>
            </div>
                
        </fieldset>
        
        </div>
        <!--end first two groups -->
        
        <!-- second group of two -->
        <div class = "twoGroup">
        
        <!--east european group-->
        <fieldset id="eastEuropean">
        <legend>East European</legend>
        <button id="eastEuropeanAll" class = "allButton">select all</button>
        
            <div class = "option">
            <input type="checkbox" id="eastEuropean1" name="eth" value="russian">
            <label for="eastEuropean1">Russian</label>
            </div>
             
            <div class = "option">
            <input type="checkbox" id="eastEuropean2" name="eth" value="polish">
            <label for="eastEuropean2">Polish</label>
            </div>
             
            <div class = "option">
            <input type="checkbox" id="eastEuropean3" name="eth" value="hungarian">
            <label for="eastEuropean3">Hungarian</label>
            </div>
            
            <div class = "option">
            <input type="checkbox" id="eastEuropean4" name="eth" value="finnish">
            <label for="eastEuropean4">Finnish</label>
            </div>
             
            <div class = "option">
            <input type="checkbox" id="eastEuropean5" name="eth" value="armenian">
            <label for="eastEuropean5">Armenian</label>
            </div>
                
        </fieldset>
        
        <!--european group-->
        <fieldset id="european">
        <legend>European</legend>
        <button id="europeanAll" class = "allButton">select all</button>
            
            <div class = "option">
            <input type="checkbox" id="european1" name="eth" value="spanish">
            <label for="european1">Spanish</label>
            </div>
             
            <div class = "option">
            <input type="checkbox" id="european2" name="eth" value="dutch">
            <label for="european2">Dutch</label>
            </div>
             
            <div class = "option">
            <input type="checkbox" id="european3" name="eth" value="french">
            <label for="european3">French</label>
            </div>
            
            <div class = "option">
            <input type="checkbox" id="european4" name="eth" value="gaulic">
            <label for="european4">Gaulic</label>
            </div>
             
            <div class = "option">
            <input type="checkbox" id="european5" name="eth" value="german">
            <label for="european5">German</label>
            </div>
              
            <div class = "option">
            <input type="checkbox" id="european6" name="eth" value="norse">
            <label for="european6">Norse</label>
            </div>
                
        </fieldset>
        
        </div>    
        <!-- end second twoGroup -->
         
        <!-- third twoGroup -->
        <div class = "twoGroup">
        
        <!--asian group-->
        <fieldset id="asian">
        <legend>Asian</legend>
        <button id="asianAll" class = "allButton">select all</button>
            
            <div class = "option">
            <input type="checkbox" id="asian1" name="eth" value="chinese">
            <label for="asian1">Chinese</label>
            </div>
            
            <div class = "option">
            <input type="checkbox" id="asian2" name="eth" value="japanese">
            <label for="asian2">Japanese</label>
            </div>
                
            <div class = "option">
            <input type="checkbox" id="asian3" name="eth" value="mongolian">
            <label for="asian3">Mongolian</label>
            </div>
                
            <div class = "option">
            <input type="checkbox" id="asian4" name="eth" value="korean">
            <label for="asian4">Korean</label>
            </div>
                
            <div class = "option">
            <input type="checkbox" id="asian5" name="eth" value="indian">
            <label for="asian5">Indian</label>
            </div>
                
        </fieldset>
        
        <!--other-->
        <fieldset id="other">
        <legend>Other</legend>
        <button id="otherAll" class = "allButton">select all</button>
            
            <div class = "option">
            <input type="checkbox" id="other1" name="eth" value="african">
            <label for="other1">African</label>
            </div>
             
            <div class = "option">
            <input type="checkbox" id="other2" name="eth" value="amerindian">
            <label for="other2">Amerindian</label>
            </div>
            
            <div class = "option">
            <input type="checkbox" id="other3" name="eth" value="aboriginal">
            <label for="other3">Aboriginal</label>
            </div>
                
            <div class = "option">
            <input type="checkbox" id="other5" name="eth" value="hebrew">
            <label for="other5">Hebrew</label>
            </div>
            
            <div class = "option">
            <input type="checkbox" id="other6" name="eth" value="romani">
            <label for="other6">Romani</label>
            </div> 

        </fieldset>
            
        </div>
    </div>
    <div id="gen">
    <!--gender choice-->
    <p>what gender names?</p>
    <fieldset>
     <input type="radio" id="gender1" name="gender" value="female">
     <label for="gender1">Female</label>
        
    <input type="radio" id="gender2" name="gender" value="male">
    <label for="gender2">Male</label>
        
    <input type="radio" id="gender3" name="gender" value="both">
    <label for="gender3">Whatever</label>
    </fieldset>  
    
    <!--last name choice-->
     <p>want last names?</p>
    <fieldset>
        <input type="radio" id="last1" name="last" value="true">
        <label for="last1">Yes</label>
        <input type="radio" id="last2" name="last" value="false">
        <label for="last2">No</label>
    </fieldset>
        
        
    <!--number choice-->
    <p>how many names?</p>
    <fieldset>
       <input type="radio" id="num1" name="num" value="1">
        <label for="num1">1</label>
        
        <input type="radio" id="num2" name="num" value="5">
        <label for="num2">5</label>
        
        <input type="radio" id="num3" name="num" value="10">
        <label for="num3">10</label>
    </fieldset> 
        
    </div>
    
        <div id="generator">
        <p id = "generated"></p>
        <button id = "genButton">generate</button>
        </div>
        
    </div> <!-- close content -->
    
    <div id="footerbar">
    <p>Trinity Parcero                  2018</p>
    </div>
    
    <!-- JAVASCRIPT -->
    <script>
    "use strict";

    //generator button
    let genButton = document.getElementById("genButton");
    //generator box
    let genBox = document.getElementById("generator");
        
    //name strings
    let firstNames = []; //possible first names
    let lastNames = []; //possible last names
        
    //ethnicity and gender values
    let eths = document.querySelectorAll("input[name=eth]");
    let ethsSelected = [];
    let female = document.getElementById("gender1");
    let male = document.getElementById("gender2");
    let both = document.getElementById("gender3");
        
    //last names and number of names
    let last = document.getElementById("last1");
    let nums = document.querySelectorAll("input[name=num]")
    let numSelected; 
    
    //p tag where generated names go
    let p = document.querySelector("#generated");
        
    //select category buttons
    let british = document.querySelector("#britishAll");
    let mediterranean = document.querySelector("#mediterraneanAll");
    let eastEuropean = document.querySelector("#eastEuropeanAll");
    let european = document.querySelector("#europeanAll");
    let asian = document.querySelector("#asianAll");
    let other = document.querySelector("#otherAll");
        
    //welsh 2 part names generation
    //STRETCH GOAL
     
    british.addEventListener('click', function(){
        for(let i = 0; i < 5; i++){
            //0-4
            eths[i].checked = !eths[i].checked;
        }
    });
        
    mediterranean.addEventListener('click', function(){
        for(let i = 5; i < 9; i++){
            //5-9
            eths[i].checked = !eths[i].checked;
        }
    });
    
    eastEuropean.addEventListener('click', function(){
        for(let i = 9; i < 14; i++){
            //10-13
            eths[i].checked = !eths[i].checked;
        }
    });
        
    european.addEventListener('click', function(){
        for(let i = 14; i < 20; i++){
            //14-19
            eths[i].checked = !eths[i].checked;
        }
    });
        
    asian.addEventListener('click', function(){
        for(let i = 20; i < 25; i++){
           //21-24
           eths[i].checked = !eths[i].checked;  
        }
    });
        
    other.addEventListener('click', function(){
        for(let i = 25; i < 31; i++){
        //25-30
        eths[i].checked = !eths[i].checked;
        }
    });
        
    //SET UP SEARCH. takes input and figures out what the user actually wants
    let setUpSearch = function(){
        
        //go thru all checkboxes, add checked ones to array
        for(let i = 0; i < eths.length; i++){
            if(eths[i].checked){
                ethsSelected[i] = eths[i].value;
            }
        }
        
        //go thru nums radio, set checked one as numSelected
        for(let i = 0; i < nums.length; i++){
            if(nums[i].checked){
                numSelected = nums[i].value;
                //futz with size of genBox
                if(numSelected == 1){
                    genBox.style.height = "100px";
                }
                if(numSelected == 5){
                    genBox.style.height = "200px";
                }
                if(numSelected == 10){
                    genBox.style.height = "350px";
                }
            }
        }
        //for each ethselected
        for(let i = 0; i < ethsSelected.length; i++){
            
            //string property name to search names for
            let propName;
            
            //check the gender buttons
            if(female.checked){
                //return eth + Female to firstNames
               if(ethsSelected[i] != undefined){
                   //welsh is a special case
                   //names are unisex
                   if(ethsSelected[i] == "welsh"){
                        firstNames += names["welsh"];
                   }
                   else{
                        propName = ethsSelected[i] + "Female";
                        firstNames += names[propName];
                   }
                    
                }
            }
            if(male.checked){
                //return eth + Male to firstNames
               if(ethsSelected[i] != undefined){
                   //welsh is a special case
                   //names are unisex
                   if(ethsSelected[i] == "welsh"){
                        firstNames += names["welsh"];
                   }
                   else{
                    propName = ethsSelected[i] + "Male";
                    firstNames += names[propName];
                   }
                }
            }
            if(both.checked){
                //return eth + Female and eth + Male to firstNames
                if(ethsSelected[i] != undefined && ethsSelected != "welsh"){
                    propName = ethsSelected[i] + "Female";
                    firstNames += names[propName];
                }
                if(ethsSelected[i] != undefined && ethsSelected != "welsh"){
                    propName = ethsSelected[i] + "Male";
                    firstNames += names[propName];
                }
                else{
                    //welsh is a special case
                   //names are unisex
                   if(ethsSelected[i] == "welsh"){
                        firstNames += names["welsh"];
                   }
                }
            }
            
            //check the last name button
            if(last.checked){
               //return eth + Family to lastNames 
                if(ethsSelected[i] != undefined){
                    propName = ethsSelected[i] + "Family";
                    //not all eths have a family category
                    if(names[propName] != undefined){
                        lastNames += names[propName];
                    }
                    
                }
            }
            
        }
        
    }
        
    //loads the names in the sections selected
    let loadNames = function(){
        //split firstNames by commas, trim off spaces
        if(firstNames.length != 0){
        firstNames = firstNames.trim();
        firstNames = firstNames.split(",");
        }
        //if last.checked, split by commas, trim off spaces
        if(last.checked && lastNames.length != 0){
            console.log(lastNames);
            lastNames = lastNames.trim();
            lastNames = lastNames.split(",");
        }
    }   
    
    let showNames = function(){
        
        //for numselected, generate names
        for(let i = 0; i < numSelected; i++){
            let firstName;
            let lastName;
            //generate first name
            let rando = Math.floor(Math.random() * Math.floor(firstNames.length));
            firstName = firstNames[rando];
            
            //if last is true, generate last name
            if(last.checked){
                rando = Math.floor(Math.random() * Math.floor(lastNames.length));
                lastName = lastNames[rando];
            }
            
            //put generated names in generated 
            
            if(lastName != undefined){
                p.innerHTML += (firstName + " " + lastName + "<br>");   
            }
            else{
                p.innerHTML += (firstName + "<br>");
            }
        }
    
    }
    
    
    //onclick of generator button
    //call name functions
    genButton.addEventListener('click', function(){
        
        //clear old values
        p.innerHTML = "";
        firstNames = [];
        lastNames = [];
        ethsSelected = [];
        numSelected = 0;
        
        setUpSearch();
        loadNames();
        showNames();
    });

    </script>
</body>
</html>